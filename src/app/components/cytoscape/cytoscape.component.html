<div class="h-dvh bg-blue-50">
    <div class="w-full py-8 px-4 bg-white">
        <svg width="280" height="19" viewBox="0 0 280 19" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M10.8807 18L5.52841 10.9432H4.86364V18H0.125V0.545454H4.86364V7.125H5.47727L10.4886 0.545454H16.4545L9.80682 8.93182L16.8295 18H10.8807ZM33.9091 9.27273C33.9091 11.2159 33.5313 12.8551 32.7756 14.1903C32.0199 15.5199 31 16.5284 29.7159 17.2159C28.4318 17.8977 27 18.2386 25.4205 18.2386C23.8295 18.2386 22.392 17.8949 21.108 17.2074C19.8295 16.5142 18.8125 15.5028 18.0568 14.1733C17.3068 12.8381 16.9318 11.2045 16.9318 9.27273C16.9318 7.32955 17.3068 5.69318 18.0568 4.36364C18.8125 3.02841 19.8295 2.01989 21.108 1.33807C22.392 0.650568 23.8295 0.306818 25.4205 0.306818C27 0.306818 28.4318 0.650568 29.7159 1.33807C31 2.01989 32.0199 3.02841 32.7756 4.36364C33.5313 5.69318 33.9091 7.32955 33.9091 9.27273ZM29.0341 9.27273C29.0341 8.22727 28.8949 7.34659 28.6165 6.63068C28.3438 5.90909 27.9375 5.36364 27.3977 4.99432C26.8636 4.61932 26.2045 4.43182 25.4205 4.43182C24.6364 4.43182 23.9744 4.61932 23.4347 4.99432C22.9006 5.36364 22.4943 5.90909 22.2159 6.63068C21.9432 7.34659 21.8068 8.22727 21.8068 9.27273C21.8068 10.3182 21.9432 11.2017 22.2159 11.9233C22.4943 12.6392 22.9006 13.1847 23.4347 13.5597C23.9744 13.929 24.6364 14.1136 25.4205 14.1136C26.2045 14.1136 26.8636 13.929 27.3977 13.5597C27.9375 13.1847 28.3438 12.6392 28.6165 11.9233C28.8949 11.2017 29.0341 10.3182 29.0341 9.27273ZM36.1016 18V0.545454H40.8402V7.36364H47.1129V0.545454H51.8516V18H47.1129V11.1818H40.8402V18H36.1016ZM70.397 7.09091H65.5902C65.5561 6.69318 65.4652 6.33239 65.3175 6.00852C65.1754 5.68466 64.9766 5.40625 64.7209 5.17329C64.4709 4.93466 64.1669 4.75284 63.8089 4.62784C63.451 4.49716 63.0447 4.43182 62.5902 4.43182C61.7947 4.43182 61.1214 4.625 60.5703 5.01136C60.0249 5.39773 59.6101 5.9517 59.326 6.6733C59.0476 7.39489 58.9084 8.26136 58.9084 9.27273C58.9084 10.3409 59.0504 11.2358 59.3345 11.9574C59.6243 12.6733 60.0419 13.2131 60.5874 13.5767C61.1328 13.9347 61.7891 14.1136 62.5561 14.1136C62.9936 14.1136 63.3857 14.0597 63.7322 13.9517C64.0788 13.8381 64.38 13.6761 64.6357 13.4659C64.8913 13.2557 65.0987 13.0028 65.2578 12.7074C65.4226 12.4062 65.5334 12.0682 65.5902 11.6932L70.397 11.7273C70.3402 12.4659 70.1328 13.2187 69.7749 13.9858C69.4169 14.7472 68.9084 15.4517 68.2493 16.0994C67.5959 16.7415 66.7862 17.2585 65.8203 17.6506C64.8544 18.0426 63.7322 18.2386 62.4538 18.2386C60.8516 18.2386 59.4141 17.8949 58.1413 17.2074C56.8743 16.5199 55.8714 15.5085 55.1328 14.1733C54.3999 12.8381 54.0334 11.2045 54.0334 9.27273C54.0334 7.32955 54.4084 5.69318 55.1584 4.36364C55.9084 3.02841 56.9197 2.01989 58.1925 1.33807C59.4652 0.650568 60.8857 0.306818 62.4538 0.306818C63.5561 0.306818 64.5703 0.457386 65.4964 0.758522C66.4226 1.05966 67.2351 1.5 67.9339 2.07954C68.6328 2.65341 69.1953 3.3608 69.6214 4.2017C70.0476 5.04261 70.3061 6.00568 70.397 7.09091ZM72.0696 4.36364V0.545454H87.2401V4.36364H81.9901V18H77.3196V4.36364H72.0696ZM89.0234 18V0.545454H96.5575C97.853 0.545454 98.9865 0.801136 99.9581 1.3125C100.93 1.82386 101.685 2.54261 102.225 3.46875C102.765 4.39489 103.035 5.47727 103.035 6.71591C103.035 7.96591 102.756 9.0483 102.2 9.96307C101.648 10.8778 100.873 11.5824 99.8729 12.0767C98.8786 12.571 97.7166 12.8182 96.3871 12.8182H91.8871V9.13636H95.4325C95.9893 9.13636 96.4638 9.03977 96.8558 8.84659C97.2536 8.64773 97.5575 8.36648 97.7678 8.00284C97.9837 7.6392 98.0916 7.21023 98.0916 6.71591C98.0916 6.21591 97.9837 5.78977 97.7678 5.4375C97.5575 5.07955 97.2536 4.80682 96.8558 4.61932C96.4638 4.42614 95.9893 4.32954 95.4325 4.32954H93.7621V18H89.0234ZM107.296 18.2386V14.5568H108.148C108.648 14.5568 109.043 14.517 109.333 14.4375C109.629 14.3523 109.856 14.2045 110.015 13.9943C110.18 13.7784 110.319 13.4773 110.433 13.0909L110.603 12.5795L104.058 0.545454H108.898L112.546 7.63636L115.342 0.545454H120.114L114.114 14.1818C113.785 14.8977 113.393 15.5653 112.938 16.1847C112.484 16.7983 111.918 17.2955 111.242 17.6761C110.566 18.0511 109.728 18.2386 108.728 18.2386H107.296ZM132.404 18L127.052 10.9432H126.387V18H121.648V0.545454H126.387V7.125H127.001L132.012 0.545454H137.978L131.33 8.93182L138.353 18H132.404ZM139.148 4.36364V0.545454H154.318V4.36364H149.068V18H144.398V4.36364H139.148ZM172.19 9.27273C172.19 11.2159 171.813 12.8551 171.057 14.1903C170.301 15.5199 169.281 16.5284 167.997 17.2159C166.713 17.8977 165.281 18.2386 163.702 18.2386C162.111 18.2386 160.673 17.8949 159.389 17.2074C158.111 16.5142 157.094 15.5028 156.338 14.1733C155.588 12.8381 155.213 11.2045 155.213 9.27273C155.213 7.32955 155.588 5.69318 156.338 4.36364C157.094 3.02841 158.111 2.01989 159.389 1.33807C160.673 0.650568 162.111 0.306818 163.702 0.306818C165.281 0.306818 166.713 0.650568 167.997 1.33807C169.281 2.01989 170.301 3.02841 171.057 4.36364C171.813 5.69318 172.19 7.32955 172.19 9.27273ZM167.315 9.27273C167.315 8.22727 167.176 7.34659 166.898 6.63068C166.625 5.90909 166.219 5.36364 165.679 4.99432C165.145 4.61932 164.486 4.43182 163.702 4.43182C162.918 4.43182 162.256 4.61932 161.716 4.99432C161.182 5.36364 160.776 5.90909 160.497 6.63068C160.224 7.34659 160.088 8.22727 160.088 9.27273C160.088 10.3182 160.224 11.2017 160.497 11.9233C160.776 12.6392 161.182 13.1847 161.716 13.5597C162.256 13.929 162.918 14.1136 163.702 14.1136C164.486 14.1136 165.145 13.929 165.679 13.5597C166.219 13.1847 166.625 12.6392 166.898 11.9233C167.176 11.2017 167.315 10.3182 167.315 9.27273ZM174.383 18V0.545454H181.917C183.212 0.545454 184.346 0.801136 185.317 1.3125C186.289 1.82386 187.045 2.54261 187.585 3.46875C188.124 4.39489 188.394 5.47727 188.394 6.71591C188.394 7.96591 188.116 9.0483 187.559 9.96307C187.008 10.8778 186.232 11.5824 185.232 12.0767C184.238 12.571 183.076 12.8182 181.746 12.8182H177.246V9.13636H180.792C181.349 9.13636 181.823 9.03977 182.215 8.84659C182.613 8.64773 182.917 8.36648 183.127 8.00284C183.343 7.6392 183.451 7.21023 183.451 6.71591C183.451 6.21591 183.343 5.78977 183.127 5.4375C182.917 5.07955 182.613 4.80682 182.215 4.61932C181.823 4.42614 181.349 4.32954 180.792 4.32954H179.121V18H174.383Z"
                fill="#0D4CD3" />
            <path
                d="M211.21 7.09091H206.403C206.369 6.69318 206.278 6.33239 206.13 6.00852C205.988 5.68466 205.789 5.40625 205.533 5.17329C205.283 4.93466 204.979 4.75284 204.621 4.62784C204.263 4.49716 203.857 4.43182 203.403 4.43182C202.607 4.43182 201.934 4.625 201.383 5.01136C200.837 5.39773 200.423 5.9517 200.138 6.6733C199.86 7.39489 199.721 8.26136 199.721 9.27273C199.721 10.3409 199.863 11.2358 200.147 11.9574C200.437 12.6733 200.854 13.2131 201.4 13.5767C201.945 13.9347 202.602 14.1136 203.369 14.1136C203.806 14.1136 204.198 14.0597 204.545 13.9517C204.891 13.8381 205.192 13.6761 205.448 13.4659C205.704 13.2557 205.911 13.0028 206.07 12.7074C206.235 12.4062 206.346 12.0682 206.403 11.6932L211.21 11.7273C211.153 12.4659 210.945 13.2187 210.587 13.9858C210.229 14.7472 209.721 15.4517 209.062 16.0994C208.408 16.7415 207.599 17.2585 206.633 17.6506C205.667 18.0426 204.545 18.2386 203.266 18.2386C201.664 18.2386 200.227 17.8949 198.954 17.2074C197.687 16.5199 196.684 15.5085 195.945 14.1733C195.212 12.8381 194.846 11.2045 194.846 9.27273C194.846 7.32955 195.221 5.69318 195.971 4.36364C196.721 3.02841 197.732 2.01989 199.005 1.33807C200.278 0.650568 201.698 0.306818 203.266 0.306818C204.369 0.306818 205.383 0.457386 206.309 0.758522C207.235 1.05966 208.048 1.5 208.746 2.07954C209.445 2.65341 210.008 3.3608 210.434 4.2017C210.86 5.04261 211.119 6.00568 211.21 7.09091ZM212.78 18V14.3523L213.257 14.2841C213.837 14.1932 214.317 13.9432 214.697 13.5341C215.084 13.1193 215.379 12.4631 215.584 11.5653C215.794 10.6619 215.928 9.43182 215.984 7.875L216.257 0.545454H228.905V18H224.337V4.22727H220.621L220.348 9.71591C220.246 11.75 219.973 13.3722 219.53 14.5824C219.087 15.7926 218.413 16.6648 217.51 17.1989C216.607 17.733 215.416 18 213.939 18H212.78ZM248.058 9.27273C248.058 11.2159 247.68 12.8551 246.924 14.1903C246.168 15.5199 245.148 16.5284 243.864 17.2159C242.58 17.8977 241.148 18.2386 239.569 18.2386C237.978 18.2386 236.54 17.8949 235.256 17.2074C233.978 16.5142 232.961 15.5028 232.205 14.1733C231.455 12.8381 231.08 11.2045 231.08 9.27273C231.08 7.32955 231.455 5.69318 232.205 4.36364C232.961 3.02841 233.978 2.01989 235.256 1.33807C236.54 0.650568 237.978 0.306818 239.569 0.306818C241.148 0.306818 242.58 0.650568 243.864 1.33807C245.148 2.01989 246.168 3.02841 246.924 4.36364C247.68 5.69318 248.058 7.32955 248.058 9.27273ZM243.183 9.27273C243.183 8.22727 243.043 7.34659 242.765 6.63068C242.492 5.90909 242.086 5.36364 241.546 4.99432C241.012 4.61932 240.353 4.43182 239.569 4.43182C238.785 4.43182 238.123 4.61932 237.583 4.99432C237.049 5.36364 236.643 5.90909 236.364 6.63068C236.092 7.34659 235.955 8.22727 235.955 9.27273C235.955 10.3182 236.092 11.2017 236.364 11.9233C236.643 12.6392 237.049 13.1847 237.583 13.5597C238.123 13.929 238.785 14.1136 239.569 14.1136C240.353 14.1136 241.012 13.929 241.546 13.5597C242.086 13.1847 242.492 12.6392 242.765 11.9233C243.043 11.2017 243.183 10.3182 243.183 9.27273ZM250.25 18V0.545454H262.83V4.36364H254.989V7.36364H262.182V11.1818H254.989V14.1818H262.795V18H250.25ZM265.18 18V0.545454H272.748C274.077 0.545454 275.194 0.724432 276.097 1.08239C277.006 1.44034 277.691 1.94602 278.151 2.59943C278.617 3.25284 278.85 4.02273 278.85 4.90909C278.85 5.55114 278.708 6.13636 278.424 6.66477C278.146 7.19318 277.754 7.63636 277.248 7.99432C276.742 8.34659 276.151 8.59091 275.475 8.72727V8.89773C276.225 8.92614 276.907 9.11648 277.521 9.46875C278.134 9.81534 278.623 10.2955 278.987 10.9091C279.35 11.517 279.532 12.233 279.532 13.0568C279.532 14.0114 279.282 14.8608 278.782 15.6051C278.288 16.3494 277.583 16.9347 276.668 17.3608C275.754 17.7869 274.663 18 273.396 18H265.18ZM269.918 14.2159H272.134C272.93 14.2159 273.526 14.0682 273.924 13.7727C274.322 13.4716 274.521 13.0284 274.521 12.4432C274.521 12.0341 274.427 11.6875 274.239 11.4034C274.052 11.1193 273.785 10.9034 273.438 10.7557C273.097 10.608 272.685 10.5341 272.202 10.5341H269.918V14.2159ZM269.918 7.60227H271.862C272.276 7.60227 272.643 7.53693 272.961 7.40625C273.279 7.27557 273.526 7.08807 273.702 6.84375C273.884 6.59375 273.975 6.28977 273.975 5.93182C273.975 5.39204 273.782 4.98011 273.396 4.69602C273.009 4.40625 272.521 4.26136 271.93 4.26136H269.918V7.60227Z"
                fill="#FF0000" />
        </svg>
    </div>


    <div class="w-full m-auto pl-4 pt-4">
        <div routerLink="../../" class="flex gap-2 cursor-pointer">
            <svg class="my-auto" xmlns="http://www.w3.org/2000/svg" width="6" height="10" viewBox="0 0 6 10"
                fill="none">
                <path d="M6 1.0125L4.99063 2.18147e-07L-2.18557e-07 5L4.99062 10L6 8.9875L2.02187 5L6 1.0125Z"
                    fill="#0D4CD3" />
            </svg>
            <span class="text-[#0D4CD3]">Назад</span>
        </div>

        <div class="flex gap-x-4 mt-6 w-full max-w-full">
            <div class="w-1/6 rounded-md">
                <div class="flex justify-between flex-col h-full min-w-[300px]">
                    <div>
                        <div>
                            <div id="triangle"
                                class="draggable p-2 bg-[#0D4CD3] rounded-[8px] text-white text-center mb-2"
                                draggable="true">
                                Новый узел (Прямоугольник)
                            </div>

                            <div id="hexagon" class="draggable p-2 bg-[#0D4CD3] rounded-[8px] text-white text-center"
                                draggable="true">
                                Новый узел (Шестиугольник)
                            </div>
                        </div>
                    </div>

                    <div>
                        <button (click)="drawMode = true" [disabled]="drawMode"
                            class="disabled:opacity-20 rounded-[8px] p-2 border-[#0D4CD3] border-2 text-[#0D4CD3] text-center w-full mb-2"
                            id="draw-on">Вкл рисование связей
                        </button>
                        <button (click)="drawMode = false" [disabled]="!drawMode"
                            class="disabled:opacity-20 rounded-[8px] p-2 border-[#0D4CD3] border-2 text-[#0D4CD3] text-center w-full mb-2"
                            id="draw-off">Выкл рисование связей
                        </button>

                        <button (click)="saveGraph()"
                            class="rounded-[8px] p-2 border-[#0D4CD3] border-2 text-[#0D4CD3] text-center w-full mb-2">Сохранить
                            граф
                        </button>
                    </div>
                </div>
            </div>

            <div id="cy" class="w-full h-calc bg-white rounded-tl-[20px] shadow-xl"
                [ngClass]="{'rounded-tr-[20px]': !!selectBlock, 'w-4/6': !!selectBlock}">
            </div>

            <div *ngIf="!!selectBlock" class="w-1/6 pr-4 rounded-md flex justify-between flex-col">

                <div>
                <div class="flex justify-between gap-2">
                    <p class="my-auto font-medium text-lg">{{selectBlock._private.data.id}}</p>

                    <button (click)="closePreview()" type="button"
                        class="rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset">
                        <span class="sr-only">Close menu</span>

                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>

                <div class="w-full">
                    <div class="mt-2">
                        <p>Имя</p>
                        <input class="bg-white p-2 w-full border-[#eeeeee] border-[1px] rounded-[4px]" type="text" [(ngModel)]="selectBlock._private.data.info.name">
                    </div>

                    <div class="mt-2">
                        <p>Возраст</p>
                        <input class="bg-white p-2 w-full border-[#eeeeee] border-[1px] rounded-[4px]" type="text" [(ngModel)]="selectBlock._private.data.info.age">
                    </div>

                    <div class="mt-2">
                        <p>Город</p>
                        <input class="bg-white p-2 w-full border-[#eeeeee] border-[1px] rounded-[4px]" type="text" [(ngModel)]="selectBlock._private.data.info.city">
                    </div>
                </div>                    
                </div>


                <div class="flex justify-between mt-24 ">
                    <button (click)="funcOpenModal()"
                        class="rounded-[8px] px-4 py-1  border-[#0D4CD3] border-2 text-[#0D4CD3] cursor-pointer w-max">Изменить
                        цвет узла</button>
                    <svg (click)="removeSelected(selectBlock)" class="my-auto cursor-pointer" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.99782 5.33184C8.20421 3.9903 9.35852 3 10.7158 3H13.2842C14.6415 3 15.7958 3.99031 16.0022 5.33184L16.105 5.99996H17.4955H19L19 6H20V7.5H18.8833L18.0486 18.2326C17.9271 19.7945 16.6242 21 15.0576 21H8.94239C7.37576 21 6.07291 19.7945 5.95143 18.2326L5.11667 7.5H4V6H5L5 5.99996H6.50453H7.89503L7.99782 5.33184ZM14.5873 5.99996H9.41268L9.48037 5.55993C9.57419 4.95014 10.0989 4.5 10.7158 4.5H13.2842C13.9011 4.5 14.4258 4.95014 14.5196 5.55993L14.5873 5.99996ZM6.6212 7.5L7.44691 18.1163C7.50765 18.8972 8.15908 19.5 8.94239 19.5H15.0576C15.8409 19.5 16.4923 18.8972 16.5531 18.1163L17.3788 7.5L6.6212 7.5Z" fill="#0D4CD3"/>
                        </svg>
                </div>
            </div>
        </div>

    </div>

    <div *ngIf="openModal" class="fixed inset-0 bg-black bg-opacity-50 z-60 flex justify-center items-center">
        <div class="bg-white p-6 rounded-lg shadow-lg max-w-[600px]">

            <div class="flex justify-between gap-16">
                <h2 class="text-xl font-bold">Выберите цвет узла</h2>

                <button (click)="openModal = false" type="button"
                    class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset">
                    <span class="sr-only">Close menu</span>

                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <p class="mb-16 font-medium">ID узла: {{selectBlock._private.data.id}}</p>

            <div class="border-b-gray-200 border-2 p-4 flex gap-x-[64px]">
                <div class="gap-y-2 grid">
                    <div class="w-10 h-10 bg-white border-black border-2 cursor-pointer" (click)="selectColor('white')">
                    </div>
                    <div class="w-10 h-10 bg-blue-600 cursor-pointer" (click)="selectColor('blue')"></div>
                    <div class="w-10 h-10 bg-red-700 cursor-pointer" (click)="selectColor('red')"></div>
                    <div class="w-10 h-10 bg-amber-700 cursor-pointer" (click)="selectColor('amber')"></div>
                    <div class="w-10 h-10 bg-yellow-400 cursor-pointer" (click)="selectColor('yellow')"></div>
                    <div class="w-10 h-10 bg-green-700 cursor-pointer" (click)="selectColor('green')"></div>
                    <div class="w-10 h-10 bg-pink-700 cursor-pointer" (click)="selectColor('pink')"></div>
                </div>

                <div class="my-auto">
                    <div id="color-block" [ngClass]="{
                        'bg-blue-600' : selectedColor === 'blue',
                        'bg-red-700' : selectedColor === 'red',
                        'bg-amber-700' : selectedColor === 'amber',
                        'bg-yellow-400' : selectedColor === 'yellow',
                        'bg-green-700' : selectedColor === 'green',
                        'bg-pink-700' : selectedColor === 'pink',
                     }" class="w-[200px] h-[100px] border-black border-2 text-center align-middle">
                        <p class="mt-[35px] font-medium">Текущий цвет</p>
                    </div>
                </div>
            </div>

            <div class="w-full text-center">
                <button (click)="saveNewStyle()"
                    class="py-2 px-4 bg-[#0D4CD3] rounded-[8px] text-white text-center mt-10">Применить
                    изменения</button>
            </div>

        </div>
    </div>
</div>